<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Password Generator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #1a1a1a;
            color: #ffffff;
        }

        .container {
            background-color: #2d2d2d;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            width: 350px;
        }

        .title {
            text-align: center;
            margin-bottom: 1.5rem;
            color: #00ff9d;
        }

        .password-display {
            background-color: #3d3d3d;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            word-break: break-all;
            min-height: 60px;
            border: 1px solid #4d4d4d;
        }

        .options-container {
            margin-bottom: 1.5rem;
        }

        .option-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .checkbox-label input {
            width: 18px;
            height: 18px;
            accent-color: #00ff9d;
            cursor: pointer;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s, opacity 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            opacity: 0.9;
        }

        .generate-btn {
            background-color: #00ff9d;
            color: #1a1a1a;
        }

        .copy-btn {
            background-color: #4d4d4d;
            color: #ffffff;
        }

        .length-control {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .length-input {
            width: 60px;
            padding: 0.3rem;
            background-color: #3d3d3d;
            border: 1px solid #4d4d4d;
            color: #ffffff;
            border-radius: 4px;
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="title">Password Generator</h1>

        <div class="password-display" id="passwordDisplay">Your password will appear here</div>

        <div class="options-container">
            <div class="length-control">
                <span>Password Length:</span>
                <input type="number" class="length-input" id="passwordLength" value="12" min="8" max="32">
            </div>

            <div class="option-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="uppercase" checked>
                    Uppercase
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="lowercase" checked>
                    Lowercase
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="numbers" checked>
                    Numbers
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="specialChars" checked>
                    Special Characters
                </label>
            </div>
        </div>

        <div class="button-group">
            <button class="btn generate-btn" onclick="generatePassword()">
                Generate
            </button>
            <button class="btn copy-btn" onclick="copyPassword()">
                Copy
            </button>
        </div>
    </div>

    <script>
        const display_password = document.querySelector("#passwordDisplay") 
        const generate_btn = document.querySelector(".generate-btn");
        const pass_length = document.querySelector("#passwordLength");
        const copy_btn = document.querySelector(".copy-btn")

        const uppercase_input = document.querySelector("#uppercase")
        const lowercase_input = document.querySelector("#lowercase")
        const numbers_input = document.querySelector("#numbers")
        const specialChars_input = document.querySelector("#specialChars")

        // Uppercase letters (A-Z)
        const uppercaseChars = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',
            'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];

        // Lowercase letters (a-z)
        const lowercaseChars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm',
            'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];

        // Numbers (0-9)
        const numberChars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];

        // Special characters
        const specialChars = ['!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '-', '=',
            '{', '}', '[', ']', '|', ':', ';', '"', '<', '>', '?', '/', ',', '.',
            '~', '`'];

        function generatePassword() {
            // Get user preferences
            const includeUpper = uppercase_input.checked;
            const includeLower = lowercase_input.checked;
            const includeNumbers = numbers_input.checked;
            const includeSpecial = specialChars_input.checked;
            const length = parseInt(pass_length.value);

            // Validate at least one character set is selected
            if (!includeUpper && !includeLower && !includeNumbers && !includeSpecial) {
                alert('Please select at least one character type!');
                return;
            }

            if(length < 4){
                alert("Please, enter more than 4 length for safty ðŸ§¯")
                return;
            }

            // Create character pool based on selections
            let charPool = [];
            // this mustinclude is for security purpose if code has some issue then pass not contained only one characters
            let mustInclude = [];

            if (includeUpper) {
                charPool = charPool.concat(uppercaseChars);
                mustInclude.push(getRandomChar(uppercaseChars));
            }
            if (includeLower) {
                charPool = charPool.concat(lowercaseChars);
                mustInclude.push(getRandomChar(lowercaseChars));
            }
            if (includeNumbers) {
                charPool = charPool.concat(numberChars);
                mustInclude.push(getRandomChar(numberChars));
            }
            if (includeSpecial) {
                charPool = charPool.concat(specialChars);
                mustInclude.push(getRandomChar(specialChars));
            }

            // Generate remaining characters
            const remainingLength = length - mustInclude.length;
            let password = mustInclude;
            for (let i = 0; i < remainingLength; i++) {
                password.push(getRandomChar(charPool));
            }

            let final_password = '';

            // that convert password typeof array into string
            // password = shuffleArray(password).join('');
            for (const element of password) {
                final_password += element;
            }

            display_password.textContent = final_password;
        }

        function getRandomChar(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        async function copyPassword() {
            try {
                await navigator.clipboard.writeText(display_password.textContent);
                console.log('Content copied to clipboard');
            } catch (err) {
                console.error('Failed to copy: ', err);
            }
        }

    </script>
</body>

</html>